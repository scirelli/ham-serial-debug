                    {
                      "stateMachine": {
                        "initial_state": "Idle",
                        "state_table": {
  "Idle": {
    "user-interacting": {
      "action": "clear",
      "next_state": "UserInteracting"
    },
    "paper-printing": {
      "action": "clear",
      "next_state": "PaperWait"
    },
    "auto-light": {
      "action": "set_segment",
      "params": [
        1,
        1,
        1,
        1
      ],
      "timeout": "0.5"
    },
    "ir-rear-active": {
      "action": "clear",
      "next_state": "Error.UnexpectedPaper"
    },
    "ir-middle-active": {
      "action": "clear",
      "next_state": "Error.UnexpectedPaper"
    },
    "ir-front-active": {
      "action": "clear",
      "next_state": "Error.UnexpectedPaper"
    },
    "auto-resend-paper-status": {
      "action": "reset_ir_states",
      "timeout": "0"
    },
    "auto-resend-door-status": {
      "action": "reset_door_state",
      "timeout": "0"
    },
    "auto-resend-motor-enable-status": {
      "action": "motor_refresh_enable_register_state",
      "timeout": "0"
    }
  },
  "UserInteracting": {
    "paper-printing": {
      "action": "clear",
      "next_state": "PaperWait"
    },
    "auto-light": {
      "action": "set_segment",
      "params": [
        2,
        1,
        1,
        1
      ],
      "timeout": "0.5"
    },
    "nothing": {
      "timeout": "60"
    }
  },
  "PaperWait": {
    "ir-rear-active": {
      "next_state": "PaperComing"
    },
    "nothing": {
      "timeout": "60"
    },
    "auto-paper-never-came": {
      "timeout": "30",
      "next_state": "Error.PaperNeverCame"
    }
  },
  "PaperComing": {
    "ir-middle-active": {
      "next_state": "PaperStillComing"
    },
    "auto-paper-got-stuck-middle": {
      "timeout": "10",
      "next_state": "Error.PrintingGotStuck"
    },
    "ir-rear-inactive": {
      "next_state": "Error.HardwareFailure"
    }
  },
  "PaperStillComing": {
    "ir-front-active": {
      "next_state": "PaperReady"
    },
    "auto-paper-got-stuck-front": {
      "timeout": "10",
      "next_state": "Error.PrintingGotStuck"
    },
    "ir-middle-inactive": {
      "next_state": "Error.HardwareFailure"
    },
    "ir-rear-inactive": {
      "next_state": "Error.HardwareFailure"
    }
  },
  "PaperReady": {
    "paper-present": {
      "next_state": "PaperReady.Signal.Pushing"
    }
  },
  "PaperReady.Signal.Pushing": {
    "auto-signal-motor-moving": {
      "action": "signal_on",
      "timeout": "0"
    },
    "auto-motor-forward": {
      "action": "motor_forward",
      "timeout": "0.01",
      "next_state": "PaperPushing"
    }
  },
  "PaperPushing": {
    "ir-rear-inactive": {
      "action": "set_segment",
      "params": [
        3,
        1,
        1,
        1
      ],
      "next_state": "PaperPresenting"
    },
    "motor-limit-front-pressed": {
      "action": "set_segment",
      "params": [
        3,
        1,
        1,
        1
      ],
      "next_state": "PaperPartialPresent"
    },
    "ir-front-inactive": {
      "action": "clear",
      "next_state": "Error.HardwareFailure"
    },
    "auto-paper-not-leaving-rear": {
      "action": "clear",
      "timeout": "10",
      "next_state": "Error.HardwareFailure.NotPushed"
    },
    "auto-signal-motor-moving": {
      "action": "signal_off",
      "timeout": "0.01"
    }
  },
  "PaperPartialPresent": {
    "ir-rear-inactive": {
      "next_state": "PaperPresenting"
    },
    "auto-paper-not-leaving-front": {
      "action": "motor_backward",
      "timeout": "30",
      "next_state": "Retracting"
    }
  },
  "PaperPresenting": {
    "ir-front-inactive": {
      "action": "clear",
      "next_state": "Resetting"
    },
    "auto-paper-not-leaving-front": {
      "action": "motor_backward",
      "timeout": "30",
      "next_state": "Retracting"
    },
    "auto-signal-motor-moving": {
      "action": "signal_off",
      "timeout": "0"
    }
  },
  "Resetting": {
    "auto-reset-motor": {
      "action": "motor_backward",
      "timeout": "3"
    },
    "auto-reset-display": {
      "action": "clear",
      "timeout": "1"
    },
    "auto-transition-to-idle": {
      "timeout": "5",
      "next_state": "Idle"
    },
    "auto-signal-motor-moving": {
      "action": "signal_off",
      "timeout": "0"
    }
  },
  "Retracting": {
    "motor-limit-rear-pressed": {
      "action": "motor_stop",
      "next_state": "SuccessfulRetraction"
    },
    "auto-light": {
      "action": "clear",
      "timeout": "0.1"
    },
    "auto-retract-fail": {
      "action": "motor_stop",
      "timeout": "15",
      "next_state": "Error.HardwareFailure"
    },
    "ir-front-inactive": {
      "next_state": "RetractedPartialPaper"
    }
  },
  "CalibratingPrepare": {
    "auto-motor-forward": {
      "action": "motor_forward",
      "timeout": "0.1"
    },
    "auto-motor-back": {
      "action": "motor_backward",
      "timeout": "1"
    },
    "auto-light-on": {
      "action": "set_segment",
      "params": [
        2,
        1,
        0,
        0
      ],
      "interval": "1"
    },
    "auto-light-off": {
      "action": "set_segment",
      "params": [
        2,
        0,
        0,
        0
      ],
      "timeout": "0.5",
      "interval": "1"
    },
    "motor-limit-rear-pressed": {
      "next_state": "CalibratingPrePrint"
    }
  },
  "CalibratingPrePrint": {
    "auto-blink-on": {
      "action": "set_segment",
      "params": [
        2,
        0,
        1,
        0
      ],
      "interval": "1"
    },
    "auto-blink-off": {
      "action": "set_segment",
      "params": [
        2,
        0,
        0,
        0
      ],
      "timeout": "0.5",
      "interval": "1"
    },
    "paper-printed": {
      "next_state": "CalibratingPostPrint"
    }
  },
  "CalibratingPostPrint": {
    "auto-blink-on": {
      "action": "set_segment",
      "params": [
        2,
        0,
        0,
        1
      ],
      "interval": "1"
    },
    "auto-blink-off": {
      "action": "set_segment",
      "params": [
        2,
        0,
        0,
        0
      ],
      "timeout": "0.5",
      "interval": "1"
    },
    "auto-end-calibration": {
      "action": "stop_calibration",
      "timeout": "5",
      "next_state": "CalibrationFinished"
    }
  },
  "CalibrationFinished": {
    "auto-motor-forward": {
      "action": "motor_forward",
      "timeout": "0.1"
    },
    "ir-front-inactive": {
      "next_state": "Resetting"
    },
    "auto-blink": {
      "action": "set_sequence",
      "params": [
        3,
        [
          [
            0,
            1,
            0,
            0
          ],
          [
            1,
            1,
            1,
            1
          ]
        ]
      ]
    }
  },
  "SuccessfulRetraction": {
    "reset": {
      "next_state": "Resetting"
    }
  },
  "Error": {
    "reset": {
      "next_state": "Resetting"
    },
    "auto-set-blinking": {
      "action": "set_sequence",
      "params": [
        3,
        [
          [
            0,
            1,
            0,
            0
          ],
          [
            1,
            1,
            1,
            1
          ]
        ]
      ],
      "timeout": "0.1"
    }
  },
  "Error.UnexpectedPaper": {
    "reset": {
      "next_state": "Resetting"
    }
  },
  "Error.PaperNeverCame": {
    "reset": {
      "next_state": "Resetting"
    }
  },
  "Error.PrintingGotStuck": {
    "reset": {
      "next_state": "Resetting"
    }
  },
  "Error.HardwareFailure": {
    "reset": {
      "next_state": "Resetting"
    }
  },
  "Error.HardwareFailure.NotPushed": {
    "reset": {
      "next_state": "Resetting"
    }
  },
  "RetractedPartialPaper": {
    "auto-set-blinking": {
      "action": "set_sequence",
      "params": [
        3,
        [
          [
            0,
            1,
            0,
            0
          ],
          [
            1,
            1,
            1,
            1
          ]
        ]
      ],
      "timeout": "0.1"
    }
  },
  "Maintenance": {
    "maintenance-complete": {
      "next_state": "Resetting"
    },
    "auto-moto": {
      "action": "motor_backward",
      "timeout": "0.1"
    },
    "access-door-closed": {
      "next_state": "Maintenance.DoorClosed"
    },
    "auto-set-blinking": {
      "action": "set_sequence",
      "params": [
        3,
        [
          [
            0,
            1,
            1,
            0
          ],
          [
            1,
            0,
            0,
            0
          ]
        ]
      ],
      "timeout": "0.1"
    }
  },
  "Maintenance.DoorClosed": {
    "reset": {
      "next_state": "Resetting"
    },
    "auto-set-blinking": {
      "action": "set_sequence",
      "params": [
        3,
        [
          [
            0,
            1,
            1,
            0
          ],
          [
            1,
            0,
            0,
            0
          ]
        ]
      ],
      "timeout": "0.1"
    }
  },
  "any": {
    "reset": {
      "next_state": "Resetting"
    },
    "eject": {
      "action": "motor_forward"
    },
    "set-segment-color": {
      "action": "set_segment",
      "params": [
        1,
        0,
        0,
        0
      ]
    },
    "set-sequence-color": {
      "action": "set_sequence",
      "params": [
        1,
        [
          [
            0,
            0,
            0,
            0
          ]
        ]
      ]
    },
    "clear-displays": {
      "action": "clear"
    },
    "demo-mode": {
      "next_state": "DemoSetup"
    },
    "demo-rainbow": {
      "next_state": "DemoRainbow"
    },
    "test-com-mode": {
      "next_state": "Test.Com.One"
    },
    "demo-motor-cycle-1": {
      "next_state": "Demo.Motor.Cycle.1"
    },
    "demo-motor-cycle-2": {
      "next_state": "Demo.Motor.Cycle.2"
    },
    "motor-brake": {
      "action": "motor_brake"
    },
    "motor-stop": {
      "action": "motor_stop"
    },
    "motor-backward": {
      "action": "motor_backward"
    },
    "motor-forward": {
      "action": "motor_forward"
    },
    "motor-enable": {
      "action": "motor_enable"
    },
    "motor-disable": {
      "action": "motor_disable"
    },
    "motor-enable-output-register-change": {
      "action": "motor_enable"
    },
    "shutdown": {
      "action": "shutdown"
    },
    "system-reset": {
      "action": "system_reset"
    },
    "motor-overcurrent-true": {
      "action": "motor_stop",
      "next_state": "Error"
    },
    "access-door-open": {
      "next_state": "Maintenance"
    },
    "start-calibration": {
      "action": "start_calibration",
      "next_state": "CalibratingPrepare"
    },
    "set-pixels": {
      "action": "set_pixels",
      "params": [
        [
          [
            0,
            0,
            0,
            0
          ]
        ]
      ]
    },
    "start-test-la-1": {
      "next_state": "Test.LogicAnalyzer.Cycle.EnableSignal"
    },
    "start-test-la-2": {
      "next_state": "Test.LogicAnalyzer.Cycle.Motor.Step1"
    },
    "start-test-fastpull": {
      "next_state": "Test.FastPull"
    },
    "start-test-motor-cycle-reset": {
      "next_state": "Test.motor.cycle.reset"
    },
    "start-test-motor-cycle": {
      "next_state": "Test.motor.cycle"
    }
  },
  "DemoSetup": {
    "auto-motor-foward": {
      "action": "motor_forward",
      "timeout": "0.1"
    },
    "auto-motor-back": {
      "action": "motor_backward",
      "timeout": "5"
    },
    "auto-blink-red": {
      "action": "set_sequence",
      "params": [
        1,
        [
          [
            0,
            0,
            1,
            0
          ],
          [
            1,
            0,
            0,
            0
          ]
        ]
      ],
      "timeout": "0.1"
    },
    "auto-blink-green": {
      "action": "set_segment",
      "params": [
        1,
        0,
        1,
        0
      ],
      "timeout": "0.2",
      "interval": "0.6"
    },
    "auto-blink-blue": {
      "action": "set_segment",
      "params": [
        1,
        0,
        0,
        1
      ],
      "timeout": "0.4",
      "interval": "0.6"
    },
    "motor-limit-rear-pressed": {
      "action": "motor_forward",
      "next_state": "DemoLoop"
    }
  },
  "DemoLoop": {
    "motor-limit-front-pressed": {
      "action": "motor_backward"
    },
    "motor-limit-rear-pressed": {
      "action": "motor_forward"
    },
    "auto-blink-1-on": {
      "action": "set_segment",
      "params": [
        1,
        1,
        1,
        1
      ],
      "interval": "1.5"
    },
    "auto-blink-1-off": {
      "action": "set_segment",
      "params": [
        1,
        0,
        0,
        0
      ],
      "timeout": "0.5",
      "interval": "1.5"
    },
    "auto-blink-2-on": {
      "action": "set_segment",
      "params": [
        2,
        1,
        1,
        1
      ],
      "timeout": "0.5",
      "interval": "1.5"
    },
    "auto-blink-2-off": {
      "action": "set_segment",
      "params": [
        2,
        0,
        0,
        0
      ],
      "timeout": "1",
      "interval": "1.5"
    },
    "x-auto-blink-3-on": {
      "action": "set_segment",
      "params": [
        3,
        1,
        1,
        1
      ]
    },
    "x-auto-blink-3-off": {
      "action": "set_segment",
      "params": [
        3,
        0,
        0,
        0
      ]
    },
    "auto-hue": {
      "action": "set_sequence",
      "params": [
        3,
        [
          [
            0,
            0,
            0,
            0
          ],
          [
            1,
            1,
            0,
            0
          ],
          [
            2,
            0,
            1,
            0
          ],
          [
            3,
            0,
            0,
            1
          ],
          [
            4,
            0,
            0,
            0
          ]
        ]
      ],
      "timeout": "1",
      "interval": "8"
    }
  },
  "DemoRainbow": {
    "auto-hue": {
      "action": "set_sequence",
      "params": [
        1,
        [
          [
            0,
            0,
            0,
            0
          ],
          [
            1,
            1,
            0,
            0
          ],
          [
            2,
            0,
            1,
            0
          ],
          [
            3,
            0,
            0,
            1
          ],
          [
            4,
            0,
            0,
            0
          ]
        ]
      ],
      "timeout": "101",
      "interval": "8"
    }
  },
  "Test.Com.One": {
    "auto-clear-displays": {
      "action": "clear",
      "timeout": "0.1"
    },
    "auto-display-on": {
      "action": "set_segment",
      "params": [
        1,
        0.5,
        0.2,
        0
      ],
      "timeout": "0.3"
    },
    "auto-transition": {
      "timeout": "2",
      "next_state": "Test.Com.Two"
    }
  },
  "Test.Com.Two": {
    "auto-clear-displays": {
      "action": "clear",
      "timeout": "0.1"
    },
    "auto-scanner-on": {
      "action": "set_segment",
      "params": [
        2,
        0.5,
        0,
        0.2
      ],
      "timeout": "0.3"
    },
    "auto-scanner-off": {
      "action": "set_segment",
      "params": [
        2,
        0,
        0,
        0
      ],
      "timeout": "1.9"
    },
    "auto-hue": {
      "action": "set_sequence",
      "params": [
        3,
        [
          [
            0,
            0,
            0,
            0
          ],
          [
            1,
            0.2,
            0,
            0
          ],
          [
            2,
            0,
            0.2,
            0
          ],
          [
            3,
            0,
            0,
            0.2
          ],
          [
            4,
            0,
            0,
            0
          ]
        ]
      ],
      "timeout": "2",
      "interval": "8"
    }
  },
  "Demo.Motor.Cycle.1": {
    "auto-motor-forward": {
      "action": "motor_forward",
      "timeout": "0.2"
    },
    "motor-limit-front-pressed": {
      "action": "motor_backward"
    },
    "motor-limit-rear-pressed": {
      "action": "motor_forward"
    },
    "auto-reset": {
      "timeout": "60",
      "next_state": "Resetting"
    }
  },
  "Demo.Motor.Cycle.2": {
    "auto-motor-forward": {
      "action": "motor_forward",
      "timeout": "0.2"
    },
    "motor-limit-front-pressed": {
      "action": "motor_backward"
    },
    "motor-limit-rear-pressed": {
      "action": "motor_forward"
    },
    "auto-hue": {
      "action": "set_sequence",
      "params": [
        1,
        [
          [
            0,
            0,
            0,
            0
          ],
          [
            1,
            1,
            0,
            0
          ],
          [
            2,
            0,
            1,
            0
          ],
          [
            3,
            0,
            0,
            1
          ],
          [
            4,
            0,
            0,
            0
          ]
        ]
      ],
      "timeout": "116",
      "interval": "8"
    },
    "auto-reset": {
      "timeout": "60",
      "next_state": "Resetting"
    }
  },
  "Test.FastPull": {
    "ir-front-active": {
      "action": "motor_forward",
      "next_state": "Test.FastPull.Light"
    }
  },
  "Test.FastPull.Light": {
    "auto-light-bllue": {
      "action": "set_segment",
      "params": [
        2,
        0,
        0,
        1
      ]
    }
  },
  "Test.LogicAnalyzer.Cycle.EnableSignal": {
    "auto-motor-disable": {
      "action": "motor_disable",
      "interval": "2"
    }
  },
  "Test.LogicAnalyzer.Cycle.Motor.Step1": {
    "auto-signal-motor-moving": {
      "action": "signal_on",
      "timeout": "0"
    },
    "auto-motor-forward": {
      "action": "motor_forward",
      "timeout": "0.1"
    },
    "motor-limit-front-pressed": {
      "next_state": "Test.LogicAnalyzer.Cycle.Motor.Step2"
    },
    "motor-limit-rear-pressed": {
      "next_state": "Test.LogicAnalyzer.Cycle.Motor.Step2"
    }
  },
  "Test.LogicAnalyzer.Cycle.Motor.Step2": {
    "auto-signal-motor-not-moving": {
      "action": "signal_off",
      "timeout": "0"
    },
    "auto-motor-backward": {
      "action": "motor_backward",
      "timeout": "0.1"
    },
    "motor-limit-front-pressed": {
      "next_state": "Test.LogicAnalyzer.Cycle.Motor.Step1"
    },
    "motor-limit-rear-pressed": {
      "next_state": "Test.LogicAnalyzer.Cycle.Motor.Step1"
    }
  },
  "Test.motor.cycle.reset": {
    "auto-motor-forward": {
      "action": "motor_forward",
      "timeout": "0.1"
    },
    "motor-limit-front-pressed": {
      "next_state": "Resetting"
    }
  },
  "Test.motor.cycle": {
    "auto-motor-forward": {
      "action": "motor_forward",
      "timeout": "0.1"
    },
    "motor-limit-front-pressed": {
      "action": "motor_backward"
    },
    "motor-limit-rear-pressed": {
      "action": "motor_forward"
    }
  }
}
                      }
                    }
